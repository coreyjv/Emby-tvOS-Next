<?xml version="1.0" encoding="UTF-8" ?>
<document>
	<head>
		<style>{{> styles}}</style>
	</head>
	<productTemplate>
		<prototypes>
			{{> personPrototype}}
			{{> scenePrototype}}
			{{> moviePrototype playedCheckmarkClass="played-checkmark2"}}
		</prototypes>
		<background>
			<!-- Cannot use binding for this -->
			<img src="{{movieDataItem.backgroundImgUrl}}" width="1280" height="720"/>
		</background>
		<banner style="background-color: rgba(0, 0, 0, 0.7)">
			<infoList>
				{{#each movieDataItem.infoList}}
				<info>
					<header>
						<title>{{formatMessage (intlGet this.header)}}</title>
					</header>
					{{#each this.text}}
					<text>{{this}}</text>
					{{/each}}
				</info>
				{{/each}}
			</infoList>
			<stack>
				<title id="title" binding="textContent:{title}" />
				<row>
					{{#if movieDataItem.criticRating}}
					<text><badge src="{{movieDataItem.criticBadgeUrl}}"/> {{movieDataItem.criticRating}}%</text>
					{{/if}}
					<text id="runtime" binding="textContent:{runtime}" />
					<text id="genres" binding="textContent:{genres}" />
					<badge id="ratingBadge" binding="@src:{ratingBadgeUrl};" class="white" />
					<badge id="hdBadge" binding="@src:{hdBadgeUrl};" class="white" />
					<badge id="subtitlesBadge" binding="@src:{subtitlesBadgeUrl};" class="white" />
				</row>
				<description id="description" binding="textContent:{description}" handlesOverflow="true" />
				<row>
					{{#if movieDataItem.canPlay}}
					<buttonLockup>
						<badge src="resource://button-play" />
						<title>{{formatMessage (intlGet "messages.play")}}</title>
					</buttonLockup>
					{{/if}}
					<buttonLockup>
						{{#if movieDataItem.isFavorite}}
						<badge src="resource://button-rated" class="red" />
						{{else}}
						<badge src="resource://button-rated" />
						{{/if}}
						<title>{{formatMessage (intlGet "messages.favorite")}}</title>
					</buttonLockup>
					<buttonLockup>
						{{#if movieDataItem.hasWatched}}
						<badge src="resource://button-checkmark" class="red"/>
						{{else}}
						<badge src="resource://button-checkmark" />
						{{/if}}
						<title>{{formatMessage (intlGet "messages.watched")}}</title>
					</buttonLockup>
					{{#if movieDataItem.canDelete}}
					<buttonLockup>
						<badge src="resource://button-remove" />
						<title>{{formatMessage (intlGet "messages.delete")}}</title>
					</buttonLockup>
					{{/if}}
				</row>
			</stack>
			<heroImg id="heroImg" binding="@src:{heroImgUrl}"/>
		</banner>
		<shelf>
			<header>
				<title id="castAndCrewTitle" binding="textContent:{title};"/>
			</header>
			<section id="castAndCrewItems" binding="items:{castAndCrewItems};" />
		</shelf>
		<shelf>
			<header>
				<title id="scenesTitle" binding="textContent:{title};"/>
			</header>
			<section id="scenesItems" binding="items:{scenesItems};" />
		</shelf>
		<shelf>
			<header>
				<title id="similarMoviesTitle" binding="textContent:{title};"/>
			</header>
			<section id="similarMoviesItems" binding="items:{similarMoviesItems};" />
		</shelf>
	</productTemplate>
	
</document>